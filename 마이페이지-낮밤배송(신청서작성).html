<!DOCTYPE html>
<html lang="ko">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>낮·밤배송 신청서 작성</title>
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Pretendard:wght@400;500;600;700&display=swap" rel="stylesheet">
    <style>
        /* [v12] Master Guide CSS */
        .disqus-thread-wrap {
            position: fixed;
            top: 40px;
            right: 40px;
            width: 450px;
            height: 100%;
            overflow: auto;
        }

        @media all and (max-width: 1490px) {
            .disqus-thread-wrap {
                display: none;
            }
        }

        .disqus-thread-wrap {
            position: fixed;
            top: 40px;
            right: 40px;
            width: 450px;
            height: 100%;
            overflow: auto;
        }

        @media all and (max-width: 1490px) {
            .disqus-thread-wrap {
                display: none;
            }
        }

        /* Reset & Base */
        * {
            box-sizing: border-box;
            margin: 0;
            padding: 0;
        }

        html,
        body {
            font-family: 'Pretendard', -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, "Helvetica Neue", Arial, sans-serif;
            background-color: #f4f5f7;
            color: #333;
            font-size: 16px;
            line-height: 1.6;
            overflow-x: visible;
        }

        ul,
        li {
            list-style: none;
        }

        a {
            text-decoration: none;
            color: inherit;
        }

        button {
            font-family: inherit;
            border: none;
            cursor: pointer;
            background: none;
            padding: 0;
        }

        img {
            max-width: 100%;
            max-height: 100%;
            object-fit: contain;
            display: block;
        }

        input,
        textarea {
            font-family: inherit;
        }

        svg {
            stroke-width: 2;
            fill: none;
            stroke: currentColor;
            stroke-linecap: round;
            stroke-linejoin: round;
            flex-shrink: 0;
            display: block;
        }

        /* Layout */
        .mobile-wrap {
            width: 100%;
            max-width: 480px;
            margin: 0 auto;
            background-color: #ffffff;
            padding-bottom: 100px;
            /* Sticky Footer 여백 */
        }

        /* Header (v12 Standard) */
        .app-header-sub {
            height: 56px;
            background: white;
            border-bottom: 1px solid #cccccc;
            display: flex;
            align-items: center;
            justify-content: space-between;
            padding: 0 16px;
            position: sticky;
            top: 0;
            z-index: 100;
        }

        .header-btn {
            display: flex;
            align-items: center;
            justify-content: center;
            width: 28px;
            height: 28px;
            cursor: pointer;
            transition: transform 0.2s;
            color: #333;
        }

        .header-btn:active {
            transform: scale(0.9);
        }

        .header-left {
            flex: 1 0 0;
            display: flex;
            justify-content: flex-start;
        }

        .header-title {
            flex: 3 0 0;
            font-size: 18px;
            font-weight: 600;
            text-align: center;
            color: #212121;
            white-space: nowrap;
            overflow: hidden;
            text-overflow: ellipsis;
        }

        .header-right {
            flex: 1 0 0;
            display: flex;
            justify-content: flex-end;
            gap: 8px;
        }

        .btn-icon {
            cursor: pointer;
            transition: transform 0.2s;
            display: flex;
            align-items: center;
            justify-content: center;
            flex-shrink: 0;
            width: 24px;
            height: 24px;
            color: #333;
        }

        .btn-icon:active {
            transform: scale(0.9);
        }

        .btn-icon svg {
            width: 100%;
            height: 100%;
        }

        /* Buttons (v12 Standard) */
        .dark-button {
            background: #424242;
            color: white;
            height: 44px;
            padding: 7px 19px;
            border-radius: 6px;
            border: none;
            font-size: 14px;
            font-weight: 600;
            cursor: pointer;
            transition: all 0.2s;
            display: inline-flex;
            align-items: center;
            justify-content: center;
            min-width: fit-content;
        }

        .dark-button:hover {
            background: #333;
        }

        .dark-button:active {
            transform: scale(0.98);
        }

        .white-button {
            background: white;
            color: #424242;
            height: 44px;
            padding: 7px 19px;
            border-radius: 6px;
            border: 1px solid #e8e8e9;
            font-size: 14px;
            font-weight: 600;
            cursor: pointer;
            transition: all 0.2s;
            display: inline-flex;
            align-items: center;
            justify-content: center;
            min-width: fit-content;
        }

        .white-button:hover {
            background: #f9f9f9;
        }

        .white-button:active {
            transform: scale(0.98);
        }

        .dark-button:disabled,
        .white-button:disabled {
            background-color: #e9ecef;
            color: #adb5bd;
            border-color: #e9ecef;
            cursor: not-allowed;
        }

        /* Main Content */
        .sw-container {
            padding: 16px;
        }

        /* Info Section (from sungwon_money_01.html) */
        .info-section {
            background: #fff;
            border: 1px solid #e8e8e9;
            border-radius: 8px;
            padding: 16px;
            margin-bottom: 16px;
        }

        .info-section .title {
            font-size: 14px;
            font-weight: 600;
            color: #555;
            margin-bottom: 8px;
        }

        /* [NEW] from tax_request_write.html */
        .info-section .balance-row {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 8px;
        }

        .info-section .balance {
            font-size: 24px;
            font-weight: 700;
            color: #4e6ee4;
        }


        /* Section Titles */
        .section-title {
            font-size: 16px;
            font-weight: 600;
            color: #333;
            margin-bottom: 12px;
        }

        /* Form Styles (from sungwon_money_01.html / v12 guide) */
        .form-group {
            margin-bottom: 20px;
        }

        .form-group label {
            display: block;
            font-size: 14px;
            font-weight: 600;
            color: #333;
            margin-bottom: 8px;
        }

        .form-group label.section-title {
            font-size: 16px;
            font-weight: 600;
            color: #333;
            margin-bottom: 12px;
        }

        .readonly-value {
            font-size: 14px;
            color: #333;
            padding: 10px 12px;
            background: #f5f5f5;
            border: 1px solid #e8e8e9;
            border-radius: 6px;
            min-height: 40px;
            display: flex;
            align-items: center;
        }

        .input {
            width: 100%;
            min-height: 40px;
            background: white;
            border: 1px solid #e8e8e9;
            border-radius: 6px;
            padding: 10px 12px;
            display: flex;
            align-items: center;
        }

        .input input {
            width: 100%;
            background: transparent;
            border: none;
            outline: none;
            font-size: 14px;
            color: black;
            line-height: 1.5;
        }

        .input input::placeholder {
            color: #c6c6c8;
        }

        .input input:read-only {
            background-color: #f5f5f5;
            cursor: default;
        }

        .input.disabled,
        .input input:read-only {
            background: #f5f5f5;
        }

        /* [NEW] Input Group (from sungwon_money_01.html) */
        .input-group {
            display: flex;
            gap: 8px;
            align-items: center;
        }

        .input-group .input {
            flex: 1;
        }

        .input-group .white-button {
            flex-shrink: 0;
            height: 40px;
            /* Match input height */
            font-size: 13px;
            padding: 0 12px;
        }

        /* [NEW] Form group for button (from tax_request_write.html) */
        .form-group-button {
            margin-bottom: 20px;
        }

        .form-group-button .white-button {
            width: 100%;
            height: 40px;
            font-weight: 500;
            font-size: 14px;
        }

        .form-group-button .white-button svg {
            width: 16px;
            height: 16px;
            margin-right: 4px;
            stroke-width: 2.5;
        }

        /* Modal Tab Navigation (from sungwon_tax_request.html) */
        .modal-tab-nav {
            display: flex;
            gap: 8px;
            margin-bottom: 20px;
        }

        .modal-tab-nav .single-chip {
            font-weight: 500;
        }

        .modal-tab-nav .single-chip-on {
            background: #4e6ee4;
            /* Master Guide blue */
            color: white;
        }

        /* v12 Standard .single-chip */
        .single-chip {
            display: inline-flex;
            align-items: center;
            justify-content: center;
            padding: 6px 12px;
            border-radius: 100px;
            font-size: 14px;
            cursor: pointer;
            transition: all 0.2s;
            user-select: none;
        }

        .single-chip-off {
            background: #f5f5f6;
            color: #8a8a92;
        }

        .single-chip-on {
            background: #4e6ee4;
            color: white;
        }

        .single-chip:active {
            transform: scale(0.95);
        }

        /* [NEW] v12 standard filter-group-content (from qna_write.html) */
        .filter-group-content {
            display: flex;
            flex-wrap: wrap;
            gap: 8px;
        }

        /* [NEW] v12 standard disclaimer (from qna_write.html) */
        .disclaimer {
            font-size: 12px;
            color: #888;
            margin-top: 8px;
            line-height: 1.5;
        }

        /* [NEW] Warning style (from cr_request.html) */
        .disclaimer.warning {
            color: #ff4b5d;
        }


        /* [NEW] Sticky Form Footer (from tax_request_write.html) */
        .sticky-form-footer {
            position: fixed;
            bottom: 0;
            left: 50%;
            transform: translateX(-50%);
            width: 100%;
            max-width: 480px;
            /* Match .mobile-wrap */
            background: #ffffff;
            border-top: 1px solid #e0e0e0;
            box-shadow: 0 -2px 8px rgba(0, 0, 0, 0.05);
            padding: 20px;
            display: flex;
            gap: 8px;
            align-items: center;
            justify-content: space-between;
            z-index: 500;
        }

        .sticky-form-footer .btn {
            flex: 1;
        }

        /* [NEW] Checkbox (from v12 guide) */
        .checkbox {
            width: 20px;
            height: 20px;
            position: relative;
            cursor: pointer;
            user-select: none;
            flex-shrink: 0;
        }

        .checkbox-off {
            width: 100%;
            height: 100%;
            background: white;
            border: 1px solid #bdbdbd;
            border-radius: 2px;
        }

        .checkbox-on {
            width: 100%;
            height: 100%;
            background: #4e6ee4;
            border-radius: 2px;
            display: flex;
            align-items: center;
            justify-content: center;
        }

        .checkbox-on img {
            width: 14px;
            height: 14px;
        }

        .checkbox:active {
            transform: scale(0.9);
        }

        .checkbox-text {
            display: flex;
            align-items: center;
            gap: 8px;
            cursor: pointer;
            user-select: none;
        }

        .checkbox-text span {
            font-size: 14px;
            color: #333;
        }

        /* [NEW] Textarea (from qna_write.html) */
        .input textarea {
            width: 100%;
            background: transparent;
            border: none;
            outline: none;
            font-size: 14px;
            font-family: 'Pretendard', sans-serif;
            color: black;
            line-height: 1.5;
            resize: vertical;
        }

        .input textarea::placeholder {
            color: #c6c6c8;
        }

        /* [MODIFIED] Photo Uploader (from review_before.html) */
        .photo-uploader-wrapper {
            display: flex;
            gap: 10px;
            overflow-x: auto;
            padding-bottom: 10px;
            /* For scrollbar spacing */
        }

        .photo-upload-box {
            width: 80px;
            height: 80px;
            flex-shrink: 0;
            border: 1px dashed #cccccc;
            border-radius: 6px;
            background: #f8f8f9;
            display: flex !important;
            align-items: center;
            justify-content: center;
            cursor: pointer;
            transition: background 0.2s;
        }

        .photo-upload-box:hover {
            background: #f1f1f1;
        }

        .photo-upload-box svg {
            width: 24px;
            height: 24px;
            color: #888;
        }

        .photo-preview-list {
            display: flex;
            gap: 10px;
        }

        .photo-preview-item {
            width: 80px;
            height: 80px;
            flex-shrink: 0;
            position: relative;
        }

        .photo-preview-item img {
            width: 100%;
            height: 100%;
            object-fit: cover;
            border-radius: 6px;
            border: 1px solid #e0e0e0;
        }

        .photo-remove-btn {
            position: absolute;
            top: 4px;
            right: 4px;
            width: 20px;
            height: 20px;
            background: rgba(0, 0, 0, 0.5);
            border-radius: 50%;
            color: white;
            display: flex;
            align-items: center;
            justify-content: center;
            cursor: pointer;
            border: none;
            padding: 0;
        }

        .photo-remove-btn svg {
            width: 14px;
            height: 14px;
            stroke-width: 2.5;
        }

        /* ========================================
           [NEW] MODAL STYLES (v12 Standard)
        ======================================== */
        .modal-overlay {
            position: fixed;
            inset: 0;
            background: rgba(0, 0, 0, 0.5);
            display: none;
            align-items: center;
            justify-content: center;
            z-index: 1000;
            padding: 16px;
            animation: fadeInModal 0.2s ease-out;
        }

        .modal-overlay.active {
            display: flex;
        }

        @keyframes fadeInModal {
            from {
                opacity: 0;
            }

            to {
                opacity: 1;
            }
        }

        /* [NEW] Added animations */
        @keyframes slideInFromRight {
            from {
                transform: translateX(100%);
            }

            to {
                transform: translateX(0);
            }
        }

        @keyframes slideOutToRight {
            from {
                transform: translateX(0);
            }

            to {
                transform: translateX(100%);
            }
        }

        @keyframes scaleUpModal {
            from {
                transform: scale(0.9);
                opacity: 0;
            }

            to {
                transform: scale(1);
                opacity: 1;
            }
        }

        .modal-content {
            background: white;
            border-radius: 8px;
            width: 100%;
            max-width: 360px;
            /* Modal max width */
            max-height: 90vh;
            /* Limit height */
            display: flex;
            flex-direction: column;
            animation: scaleUpModal 0.2s ease-out;
        }

        .modal-header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            padding: 16px;
            border-bottom: 1px solid #e8e8e9;
            position: relative;
            height: 57px;
        }

        .modal-title {
            font-size: 16px;
            font-weight: 700;
            color: black;
            text-align: left;
        }

        .btn-modal-close {
            width: 24px;
            height: 24px;
            cursor: pointer;
            color: #333;
            position: absolute;
            right: 16px;
            top: 50%;
            transform: translateY(-50%);
        }

        .btn-modal-close:hover {
            color: #000;
        }

        .btn-modal-close svg {
            width: 100%;
            height: 100%;
        }

        .modal-body {
            padding: 16px;
            overflow-y: auto;
            flex-grow: 1;
        }

        .modal-footer {
            padding: 16px;
            border-top: 1px solid #e8e8e9;
            background: #fff;
            display: flex;
            gap: 8px;
            border-radius: 0 0 7px 7px;
        }

        .modal-footer .btn {
            flex: 1;
            height: 44px;
            font-size: 14px;
        }

        /* [NEW] Full Modal Style */
        .modal-overlay.full-modal {
            align-items: flex-start;
            /* Align to top */
            padding: 0;
            overflow: hidden;
            /* Prevent body scroll during animation */
        }

        .full-modal .modal-content {
            width: 100%;
            max-width: 100%;
            /* Override 360px */
            height: 100vh;
            /* Full height */
            max-height: 100vh;
            /* Override 90vh */
            border-radius: 0;
            /* No radius for full screen */
            animation: slideInFromRight 0.3s ease-out;
            /* Apply slide animation */
            max-width: 480px;
            margin-left: auto;
            margin-right: auto;
        }

        /* [NEW] Closing animation */
        .full-modal .modal-content.closing {
            animation: slideOutToRight 0.3s ease-out;
        }

        .full-modal .modal-header {
            position: sticky;
            top: 0;
            background: #fff;
            z-index: 10;
        }

        .full-modal .modal-body {
            overflow-y: auto;
            flex-grow: 1;
        }

        .full-modal .modal-footer {
            position: sticky;
            bottom: 0;
            background: #fff;
            z-index: 10;
            border-radius: 0;
        }

        /* [NEW] Search (from tax_request_write.html) */
        .filter-section {
            padding: 0 0 16px 0;
            display: flex;
            justify-content: flex-start;
            align-items: center;
        }

        .search {
            width: 100%;
            height: 40px;
            background: #f9f9f9;
            border-radius: 8px;
            display: flex;
            align-items: center;
            justify-content: space-between;
            padding: 10px 12px;
            position: relative;
        }

        .search input {
            flex: 1;
            background: transparent;
            border: none;
            outline: none;
            font-size: 14px;
            color: black;
        }

        .search input::placeholder {
            color: #c6c6c8;
        }

        .search-input-right {
            display: flex;
            gap: 5px;
            align-items: center;
        }

        .search-del {
            width: 18px;
            height: 18px;
            cursor: pointer;
            display: none;
        }

        .search.has-text .search-del {
            display: flex;
        }

        .search-icon,
        .btn-search {
            width: 24px;
            height: 24px;
            cursor: pointer;
            transition: transform 0.2s;
        }

        .search-icon:active,
        .btn-search:active {
            transform: scale(0.9);
        }

        .search-del img,
        .btn-search img,
        .search-icon img {
            width: 100%;
            height: 100%;
        }

        /* [NEW] Modal List Header (from tax_request_write.html) */
        .transaction-list-header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            padding-bottom: 12px;
            font-size: 14px;
            color: #555;
            border-bottom: 1px solid #e8e8e9;
            margin-bottom: 12px;
            margin-top: 16px;
        }

        .transaction-list-header .total-count strong {
            font-weight: 600;
            color: #333;
        }

        /* [NEW] Address List (Modal) (from tax_request_write.html, adapted) */
        .address-list {
            display: flex;
            flex-direction: column;
            gap: 8px;
            /* [MODIFIED] max-height: 40vh -> unset for full-modal */
            /* max-height: 40vh; */
            overflow-y: auto;
        }

        .address-item {
            border: 1px solid #e8e8e9;
            border-radius: 6px;
            padding: 12px;
        }

        .address-item-header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 10px;
        }

        .address-name {
            font-size: 16px;
            font-weight: 600;
            color: #333;
        }

        .address-item .white-button {
            height: 32px;
            font-size: 13px;
            padding: 0 12px;
            flex-shrink: 0;
        }

        .address-detail {
            font-size: 13px;
            color: #555;
            margin-bottom: 4px;
            line-height: 1.5;
        }

        .address-detail .label {
            font-weight: 500;
            color: #333;
        }

        /* [NEW] Badge for default address (from delivery_list.html) */
        .card-badge {
            background: white;
            border: 1px solid #d7d7d7;
            border-radius: 30px;
            padding: 2px 10px;
            font-size: 10px;
            color: black;
            flex-shrink: 0;
        }

        .card-badge[data-status="default"] {
            border-color: #4e6ee4;
            color: #4e6ee4;
            font-weight: 600;
        }

        /* [NEW] Delivery Area Modal Styles */
        #delivery-area-modal .modal-body {
            padding: 0;
            /* Remove body padding to make tabs flush */
        }

        #delivery-area-modal .modal-tab-nav {
            padding: 16px 16px 0 16px;
            /* Add padding to tab nav */
            margin-bottom: 0;
            border-bottom: 1px solid #e8e8e9;
        }

        #delivery-area-modal .modal-tab-nav .single-chip {
            border-radius: 6px 6px 0 0;
            padding: 10px 16px;
            font-size: 14px;
            font-weight: 500;
            position: relative;
            bottom: -1px;
            /* Overlap border */
        }

        #delivery-area-modal .modal-tab-nav .single-chip-off {
            background: #f5f5f6;
            color: #8a8a92;
            border: 1px solid #e8e8e9;
            border-bottom: none;
        }

        #delivery-area-modal .modal-tab-nav .single-chip-on {
            background: #fff;
            color: #4e6ee4;
            border: 1px solid #e8e8e9;
            border-bottom: 1px solid #fff;
            font-weight: 600;
        }

        .delivery-area-content {
            padding: 16px;
        }

        .delivery-area-content .region-summary {
            font-size: 14px;
            font-weight: 500;
            color: #333;
            margin-bottom: 16px;
        }

        .delivery-area-content .region-summary strong {
            font-weight: 600;
            color: #000;
        }

        .area-table {
            width: 100%;
            border-collapse: collapse;
            font-size: 13px;
        }

        .area-table th,
        .area-table td {
            border: 1px solid #e8e8e9;
            padding: 8px 10px;
            text-align: left;
            line-height: 1.5;
        }

        .area-table th {
            background-color: #f8f8f9;
            font-weight: 600;
            color: #555;
            text-align: center;
        }

        .area-table th:first-child {
            width: 30%;
        }

        .area-table td {
            color: #333;
        }

        /* [MODIFIED] Modal Tab Navigation (v12 Standard with Action Button) */
        .modal-tab-nav {
            display: flex;
            align-items: center;
            /* 세로 중앙 정렬 */
            gap: 8px;
            /* 아이템 간 간격 */
            margin-bottom: 20px;

            /* 가로 스크롤 핵심 속성 */
            overflow-x: auto;
            flex-wrap: nowrap;
            /* 줄바꿈 방지 */
            -webkit-overflow-scrolling: touch;
            /* 모바일 부드러운 스크롤 */

            /* 스크롤바 숨김 처리 */
            scrollbar-width: none;
            /* Firefox */
            padding-bottom: 2px;
            /* 하단 잘림 방지 여백 */
        }

        .modal-tab-nav::-webkit-scrollbar {
            display: none;
        }

        /* 탭 내부의 모든 요소(칩, 버튼)가 찌그러지지 않도록 설정 */
        .modal-tab-nav .single-chip,
        .modal-tab-nav .nav-action-btn {
            flex-shrink: 0;
            /* 공간이 부족해도 줄어들지 않음 */
            white-space: nowrap;
            /* 텍스트 줄바꿈 방지 */
        }

        /* [추가] 배송지 목록 버튼 스타일 (이미지처럼 다크 버튼) */
        .nav-action-btn {
            display: inline-flex;
            align-items: center;
            justify-content: center;
            height: 32px;
            /* 칩 높이와 유사하게 설정 */
            padding: 0 12px;
            font-size: 13px;
            font-weight: 500;
            color: white;
            background-color: #333;
            border-radius: 6px;
            cursor: pointer;
            transition: background-color 0.2s;
            border: none;
            /* (선택사항) 버튼만 우측 끝으로 밀고 싶으면 주석 해제 */
        }

        .nav-action-btn:active {
            transform: scale(0.96);
        }

        /* [추가] 칩 내부 닫기 버튼 (x 아이콘) 스타일 */
        .chip-close-btn {
            display: inline-flex;
            align-items: center;
            justify-content: center;
            width: 18px;
            height: 18px;
            margin-left: 6px;
            background-color: rgba(255, 255, 255, 0.2);
            border-radius: 50%;
            cursor: pointer;
        }

        .chip-close-btn:hover {
            background-color: rgba(255, 255, 255, 0.4);
        }

        .chip-close-btn svg {
            width: 12px;
            height: 12px;
            stroke-width: 3;
        }
    </style>
</head>

<body>
    <div class="mobile-wrap">

        <header class="app-header-sub">
            <div class="header-left">
                <button type="button" class="header-btn" onclick="history.back();">
                    <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24"
                        id="icon-chevron-left">
                        <path d="M15 6l-6 6l6 6" />
                    </svg>
                </button>
            </div>
            <h1 class="header-title">낮·밤배송 신청서 작성</h1>
            <div class="header-right">
            </div>
        </header>

        <main>
            <div class="sw-container" style="padding-top: 24px;">

                <section class="form-group" style="margin-bottom: 24px;">
                    <label class="section-title">신청 정보</label>

                    <div class="form-group">
                        <label>유형</label>
                        <div class="filter-group-content" id="delivery-type-chips">
                            <div class="single-chip single-chip-on"
                                onclick="selectSingleChip(this, 'delivery-type-chips')">낮배송</div>
                            <div class="single-chip single-chip-off"
                                onclick="selectSingleChip(this, 'delivery-type-chips')">밤배송</div>
                        </div>
                    </div>

                    <div class="form-group">
                        <label>이용기간</label>
                        <div class="readonly-value">2025년 9월 1일부터</div>
                    </div>
                </section>

                <section class="info-section">
                    <div class="title">신청비</div>
                    <div class="balance-row">
                        <span class="balance" style="font-size: 20px;">₩55,000
                            <span
                                style="font-size: 14px; font-weight: 400; color: #666; margin-left: 4px;">(부가세포함)</span>
                        </span>
                    </div>
                    <p class="disclaimer" style="margin-top: 8px;">* 승인이 완료되면 성원머니 잔액에서 자동으로 출금돼요. <br>잔액이 부족하면 가상계좌로
                        입금해 주세요</p>
                </section>

                <div style="height: 8px; background: #f4f5f7; margin: 0 -16px 24px -16px;"></div>

                <section class="form-section">
                    <h2 class="section-title">배송 정보</h2>

                    <nav class="modal-tab-nav" id="address-tabs">
                        <div class="single-chip single-chip-on" data-tab="default-addr"
                            onclick="switchAddressTab(this, 'default-addr')">기본 배송지</div>
                        <div class="single-chip single-chip-off" data-tab="direct-input"
                            onclick="switchAddressTab(this, 'direct-input')">직접 입력</div>
                        <div class="single-chip single-chip-off" id="chip-address-list" data-tab="address-list"
                            style="display: none;" onclick="switchAddressTab(this, 'address-list')">
                            <span id="chip-address-text"></span>
                            <span class="chip-close-btn" onclick="removeSelectedAddress(event)">
                                <svg xmlns="http://www.w3.org/2000/svg" width="12" height="12" viewBox="0 0 24 24"
                                    fill="none" stroke="currentColor" stroke-width="3" stroke-linecap="round"
                                    stroke-linejoin="round">
                                    <line x1="18" y1="6" x2="6" y2="18"></line>
                                    <line x1="6" y1="6" x2="18" y2="18"></line>
                                </svg>
                            </span>
                        </div>

                        <button type="button" class="nav-action-btn show" onclick="showAddressListModal()">
                            <svg xmlns="http://www.w3.org/2000/svg" width="14" height="14" viewBox="0 0 24 24"
                                fill="none" stroke="currentColor" stroke-width="2.5" stroke-linecap="round"
                                stroke-linejoin="round" class="icon icon-tabler icons-tabler-outline icon-tabler-list">
                                <path stroke="none" d="M0 0h24v24H0z" fill="none" />
                                <path d="M9 6l11 0" />
                                <path d="M9 12l11 0" />
                                <path d="M9 18l11 0" />
                                <path d="M5 6l0 .01" />
                                <path d="M5 12l0 .01" />
                                <path d="M5 18l0 .01" />
                            </svg>&nbsp;
                            배송지 목록
                        </button>
                    </nav>

                    <div id="address-tab-content">
                        <div class="form-fields-wrapper" data-tab-content="default-addr" style="display: block;">
                            <p style="padding: 20px 0; text-align: center; color: #888; font-size: 14px;">저장된 기본 배송지가
                                없어요.<br>'직접 입력' 탭에서 배송지를 입력해주세요</p>
                        </div>

                        <div class="form-fields-wrapper" data-tab-content="direct-input" style="display: none;">
                            <div class="form-group">
                                <label>이름(상호명)</label>
                                <div class="input"><input type="text" id="form-receiver" value="김성원"></div>
                            </div>
                            <div class="form-group">
                                <label>휴대폰 번호</label>
                                <div class="input"><input type="tel" id="form-phone" placeholder="'-'없이 숫자만 입력해주세요">
                                </div>
                            </div>
                            <div class="form-group">
                                <label>긴급 연락처</label>
                                <div class="input"><input type="tel" id="form-tel" placeholder="'-'없이 숫자만 입력해주세요"></div>
                            </div>
                            <div class="form-group">
                                <label>주소</label>
                                <div class="input-group" style="margin-bottom: 8px;">
                                    <div class="input disabled"><input type="text" id="form-zipcode" value="05564"
                                            readonly></div>
                                    <button type="button" class="white-button" onclick="alert('우편번호 검색')">우편번호
                                        검색</button>
                                </div>
                                <div class="input disabled" style="margin-bottom: 8px;"><input type="text"
                                        id="form-addr-main" value="서울특별시 송파구 실동 123 12일" readonly></div>
                                <div class="input"><input type="text" id="form-addr-detail" placeholder="상세 주소를 입력해주세요"
                                        value="1204호"></div>

                                <div
                                    style="display: flex; justify-content: space-between; align-items: center; margin-top: 8px;">
                                    <p class="disclaimer warning" id="form-address-warning-message"
                                        style="display: none; margin-top: 0;">
                                        * <strong id="form-warning-delivery-type"></strong> 가능 지역이 아니에요
                                    </p>

                                    <button type="button" class="white-button"
                                        style="height: 32px; font-size: 13px; padding: 0 12px; width: auto; font-weight: 500; margin-left: auto;"
                                        onclick="showDeliveryAreaModal()">
                                        낮·밤배송 가능 지역
                                    </button>
                                </div>
                            </div>
                            <div class="form-group">
                                <label>위치</label>
                                <div class="filter-group-content" id="form-location-type-chips">
                                    <div class="single-chip single-chip-on"
                                        onclick="selectSingleChip(this, 'form-location-type-chips')">시내</div>
                                    <div class="single-chip single-chip-off"
                                        onclick="selectSingleChip(this, 'form-location-type-chips')">시외</div>
                                </div>
                            </div>
                            <div class="form-group" style="margin-bottom: 12px;">
                                <div class="checkbox-text" onclick="toggleCheckboxText(this)">
                                    <div class="checkbox" data-checked="true" id="form-elevator-check">
                                        <div class="checkbox-on"><img src="assets/images/checked.svg" alt="체크"></div>
                                    </div>
                                    <span>엘리베이터 있음</span>
                                </div>
                            </div>

                            <div class="form-group">
                                <label>보관장소</label>
                                <div class="filter-group-content" id="form-storage-type-chips">
                                    <div class="single-chip single-chip-on"
                                        onclick="selectSingleChip(this, 'form-storage-type-chips')">사무실</div>
                                    <div class="single-chip single-chip-off"
                                        onclick="selectSingleChip(this, 'form-storage-type-chips')">경비실</div>
                                    <div class="single-chip single-chip-off"
                                        onclick="selectSingleChip(this, 'form-storage-type-chips')">복도</div>
                                    <div class="single-chip single-chip-off"
                                        onclick="selectSingleChip(this, 'form-storage-type-chips')">사무실문 앞</div>
                                    <div class="single-chip single-chip-off"
                                        onclick="selectSingleChip(this, 'form-storage-type-chips')">사무실 창고</div>
                                    <div class="single-chip single-chip-off"
                                        onclick="selectSingleChip(this, 'form-storage-type-chips')">화장실</div>
                                    <div class="single-chip single-chip-off"
                                        onclick="selectSingleChip(this, 'form-storage-type-chips')">공장</div>
                                    <div class="single-chip single-chip-off"
                                        onclick="selectSingleChip(this, 'form-storage-type-chips')">직접 입력</div>
                                </div>
                            </div>
                            <div class="form-group" id="form-storage-direct-input-group" style="display: none;">
                                <div class="input"><input type="text" id="form-storage-direct-input"
                                        placeholder="보관장소를 입력해주세요"></div>
                            </div>

                            <div class="form-group">
                                <label>공동현관 출입번호 (선택)</label>
                                <div class="input"><input type="text" id="form-entry-code" placeholder="출입번호를 입력해주세요">
                                </div>
                            </div>

                            <div class="form-group">
                                <label>위치 첨부 (선택)</label>
                                <div class="photo-uploader-wrapper">
                                    <label for="form-file-upload-input" class="photo-upload-box">
                                        <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24"
                                            viewBox="0 0 24 24">
                                            <path d="M12 5l0 14" />
                                            <path d="M5 12l14 0" />
                                        </svg>
                                    </label>
                                    <input type="file" id="form-file-upload-input" style="display:none;" multiple
                                        accept="image/jpeg, image/png, image/gif"
                                        onchange="handlePhotoUpload(event, 'form-photo-preview-list')">
                                    <div class="photo-preview-list" id="form-photo-preview-list">
                                    </div>
                                </div>
                                <p class="disclaimer">* 사진은 JPG, PNG, GIF 파일로 최대 5장(20MB 이하)까지 첨부할 수 있어요</p>
                            </div>

                            <div class="form-group">
                                <label>배송시 요청사항</label>
                                <div class="input" style="align-items: flex-start;">
                                    <textarea id="form-request-memo" placeholder="요청사항을 입력해주세요 (예: 부재 시 경비실 보관)"
                                        rows="3"></textarea>
                                </div>
                            </div>
                        </div>

                        <div class="form-fields-wrapper" data-tab-content="address-list" style="display: none;">
                            <div class="form-group">
                                <label>이름(상호명)</label>
                                <div class="input disabled"><input type="text" id="list-receiver"
                                        placeholder="배송지 목록에서 선택해주세요" readonly></div>
                            </div>
                            <div class="form-group">
                                <label>휴대폰 번호</label>
                                <div class="input disabled"><input type="tel" id="list-phone"
                                        placeholder="배송지 목록에서 선택해주세요" readonly></div>
                            </div>
                            <div class="form-group">
                                <label>긴급 연락처</label>
                                <div class="input disabled"><input type="tel" id="list-tel"
                                        placeholder="배송지 목록에서 선택해주세요" readonly></div>
                            </div>
                            <div class="form-group">
                                <label>주소</label>
                                <div class="input-group" style="margin-bottom: 8px;">
                                    <div class="input disabled"><input type="text" id="list-zipcode" placeholder="우편번호"
                                            readonly></div>
                                    <button type="button" class="white-button" onclick="alert('우편번호 검색')">우편번호
                                        검색</button>
                                </div>
                                <div class="input disabled" style="margin-bottom: 8px;"><input type="text"
                                        id="list-addr-main" placeholder="기본 주소" readonly></div>
                                <div class="input"><input type="text" id="list-addr-detail" placeholder="상세 주소를 입력해주세요">
                                </div>

                                <div
                                    style="display: flex; justify-content: space-between; align-items: center; margin-top: 8px;">
                                    <p class="disclaimer warning" id="list-address-warning-message"
                                        style="display: none; margin-top: 0;">
                                        * <strong id="list-warning-delivery-type"></strong> 가능 지역이 아니에요
                                    </p>
                                    <button type="button" class="white-button"
                                        style="height: 32px; font-size: 13px; padding: 0 12px; width: auto; font-weight: 500; margin-left: auto;"
                                        onclick="showDeliveryAreaModal()">
                                        낮·밤배송 가능 지역
                                    </button>
                                </div>
                            </div>
                            <div class="form-group">
                                <label>위치</label>
                                <div class="filter-group-content" id="list-location-type-chips">
                                    <div class="single-chip single-chip-on"
                                        onclick="selectSingleChip(this, 'list-location-type-chips')">시내</div>
                                    <div class="single-chip single-chip-off"
                                        onclick="selectSingleChip(this, 'list-location-type-chips')">시외</div>
                                </div>
                            </div>
                            <div class="form-group" style="margin-bottom: 12px;">
                                <div class="checkbox-text" onclick="toggleCheckboxText(this)">
                                    <div class="checkbox" data-checked="false" id="list-elevator-check">
                                        <div class="checkbox-off"></div>
                                    </div>
                                    <span>엘리베이터 있음</span>
                                </div>
                            </div>

                            <div class="form-group">
                                <label>보관장소</label>
                                <div class="filter-group-content" id="list-storage-type-chips">
                                    <div class="single-chip single-chip-on"
                                        onclick="selectSingleChip(this, 'list-storage-type-chips')">사무실</div>
                                    <div class="single-chip single-chip-off"
                                        onclick="selectSingleChip(this, 'list-storage-type-chips')">경비실</div>
                                    <div class="single-chip single-chip-off"
                                        onclick="selectSingleChip(this, 'list-storage-type-chips')">복도</div>
                                    <div class="single-chip single-chip-off"
                                        onclick="selectSingleChip(this, 'list-storage-type-chips')">사무실문 앞</div>
                                    <div class="single-chip single-chip-off"
                                        onclick="selectSingleChip(this, 'list-storage-type-chips')">사무실 창고</div>
                                    <div class="single-chip single-chip-off"
                                        onclick="selectSingleChip(this, 'list-storage-type-chips')">화장실</div>
                                    <div class="single-chip single-chip-off"
                                        onclick="selectSingleChip(this, 'list-storage-type-chips')">공장</div>
                                    <div class="single-chip single-chip-off"
                                        onclick="selectSingleChip(this, 'list-storage-type-chips')">직접 입력</div>
                                </div>
                            </div>
                            <div class="form-group" id="list-storage-direct-input-group" style="display: none;">
                                <div class="input"><input type="text" id="list-storage-direct-input"
                                        placeholder="보관장소를 입력해주세요"></div>
                            </div>

                            <div class="form-group">
                                <label>공동현관 출입번호 (선택)</label>
                                <div class="input"><input type="text" id="list-entry-code" placeholder="출입번호를 입력해주세요">
                                </div>
                            </div>

                            <div class="form-group">
                                <label>위치 첨부 (선택)</label>
                                <div class="photo-uploader-wrapper">
                                    <label for="list-file-upload-input" class="photo-upload-box">
                                        <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24"
                                            viewBox="0 0 24 24">
                                            <path d="M12 5l0 14" />
                                            <path d="M5 12l14 0" />
                                        </svg>
                                    </label>
                                    <input type="file" id="list-file-upload-input" style="display:none;" multiple
                                        accept="image/jpeg, image/png, image/gif"
                                        onchange="handlePhotoUpload(event, 'list-photo-preview-list')">
                                    <div class="photo-preview-list" id="list-photo-preview-list">
                                    </div>
                                </div>
                                <p class="disclaimer">* 사진은 JPG, PNG, GIF 파일로 최대 5장(20MB 이하)까지 첨부할 수 있어요</p>
                            </div>

                            <div class="form-group">
                                <label>배송시 요청사항</label>
                                <div class="input" style="align-items: flex-start;">
                                    <textarea id="list-request-memo" placeholder="요청사항을 입력해주세요 (예: 부재 시 경비실 보관)"
                                        rows="3"></textarea>
                                </div>
                            </div>
                        </div>
                    </div>
                </section>

                <section class="info-section" style="background: #fff; margin-top: 24px;">
                    <div class="title" style="font-size: 16px; color: #333; font-weight: 600;">신청 전에 꼭 확인해주세요</div>

                    <strong class="disclaimer"
                        style="font-weight: 600; color: #555; margin-top: 16px; display: block;">절차 안내</strong>
                    <p class="disclaimer">* 정기배송을 신청하면 담당자가 승인 절차를 진행해요</p>
                    <p class="disclaimer">* 승인이 완료되면 안내드릴게요. 이후 월 배송비를 가상계좌로 입금하면 정기배송 회원이 돼요</p>
                    <p class="disclaimer">* 승인 전에 입금하면 결제가 처리되지 않아요. 승인 완료 후 입금된 신청비는 환불이 어려워요</p>
                    <p class="disclaimer">* 입금 확인과 거래처 등록, 약도 확인, 배송 준비 절차 때문에 신청 당일에는 배송이 어려울 수 있어요</p>
                    <p class="disclaimer">* 정기배송 비용은 다음 달에 세금계산서로 발행돼요 (정책 확인 예정)</p>

                    <strong class="disclaimer"
                        style="font-weight: 600; color: #555; margin-top: 16px; display: block;">유의사항</strong>
                    <p class="disclaimer">* 배송시간은 차량 배정이나 교통상황에 따라 달라질 수 있어요</p>
                    <p class="disclaimer">* 담당자에게 직접 전달이 어려워요. 1층 등 분실 위험이 없고 보관이 가능한 장소를 꼭 지정해 주세요</p>
                    <p class="disclaimer">* 배송 장소로 인해 생긴 사고는 재작업이 불가해요</p>
                    <p class="disclaimer">* 배송 완료 후 발생한 분실·훼손 등은 책임을 지지 않아요. 다만 배송 중 문제가 생긴 경우, 원인을 확인한 뒤 재작업 여부를 결정해요
                    </p>
                    <p class="disclaimer">* 주문량이 많은 날에는 소량 주문부터 우선 배송될 수 있고, 대량 주문(10연 이상)은 익일로 나누어 배송될 수 있어요</p>
                    <p class="disclaimer">* 주간/야간 배송에서 누락된 상품은 다음 배송편으로 보내드려요. 퀵서비스나 택배로는 따로 보내드리지 않아요</p>
                </section>
            </div>
        </main>

        <div class="sticky-form-footer">
            <button class="dark-button btn" onclick="alert('신청하기 (구현 필요)')" style="width: 100%; flex-grow: 1;">동의 후
                신청하기</button>
        </div>
    </div>

    <div class="modal-overlay full-modal" id="address-list-modal-overlay">
        <div class="modal-content" id="address-list-modal">
            <div class="modal-header">
                <h2 class="modal-title">배송지 목록</h2>
                <button class="btn-modal-close" onclick="closeModal('address-list-modal-overlay')">
                    <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24">
                        <path d="M18 6l-12 12" />
                        <path d="M6 6l12 12" />
                    </svg>
                </button>
            </div>
            <div class="modal-body">
                <div class="filter-section" style="padding: 0 0 16px 0;">
                    <div class="search" data-name="search" id="modal-address-search">
                        <input type="text" placeholder="배송지 또는 이름, 상호명을 검색해주세요" oninput="handleSearchInput(this)">
                        <div class="search-input-right">
                            <div class="search-del" onclick="clearSearch(this, 'modal-address-search')">
                                <img src="assets/images/search-del.png" alt="지우기">
                            </div>
                            <div class="btn-search" onclick="handleSearch(this, 'modal-address-search')">
                                <svg xmlns="http://www.w3.org/2000/svg" width="20" height="24" viewBox="0 0 24 24"
                                    id="icon-search">
                                    <path stroke="#AAAAAD" d="M10 10m-7 0a7 7 0 1 0 14 0a7 7 0 1 0 -14 0"></path>
                                    <path stroke="#AAAAAD" d="M21 21l-6 -6"></path>
                                </svg>
                            </div>
                        </div>
                    </div>
                </div>

                <div class="transaction-list-header"
                    style="margin-top: 0; padding-bottom: 12px; margin-bottom: 12px; border-color: #e8e8e9;">
                    <span class="total-count">총 <strong id="modal-address-count">4</strong>개</span>
                </div>

                <div class="address-list" id="modal-address-list">
                    <article class="address-item" data-id="1">
                        <div class="address-item-header">
                            <span class="address-name">[우리집] 김혜진</span>
                            <div style="display: flex; gap: 8px; align-items: center;">
                                <div class="card-badge" data-status="default">기본배송지</div>
                                <button class="white-button btn" onclick="selectAddress('1')">선택</button>
                            </div>
                        </div>
                        <div class="address-detail">(03256) 서울 마포구 상암동 1605 누리꿈스퀘어 101동 1001호</div>
                        <div class="address-detail" style="color: #666;">010-1234-5667 | 02-124-4455</div>
                    </article>
                    <article class="address-item" data-id="2">
                        <div class="address-item-header">
                            <span class="address-name">[회사] 박광진</span>
                            <div style="display: flex; gap: 8px; align-items: center;">
                                <button class="white-button btn" onclick="selectAddress('2')">선택</button>
                            </div>
                        </div>
                        <div class="address-detail">(03256) 경기도 성남시 분당구 판교역로 235 H스퀘어 N동 7층 (삼평동)</div>
                        <div class="address-detail" style="color: #666;">010-1234-5667 | 02-124-4455</div>
                    </article>
                    <article class="address-item" data-id="3">
                        <div class="address-item-header">
                            <span class="address-name">[제주도 거래처] 김영희</span>
                            <div style="display: flex; gap: 8px; align-items: center;">
                                <button class="white-button btn" onclick="selectAddress('3')">선택</button>
                            </div>
                        </div>
                        <div class="address-detail">(03256) 제주특별자치도 서귀포시 안덕면 신화역사로304번길 38 메리어트관 8210호</div>
                        <div class="address-detail" style="color: #666;">010-1234-5667 | 02-124-4455</div>
                    </article>
                    <article class="address-item" data-id="4">
                        <div class="address-item-header">
                            <span class="address-name">이진희</span>
                            <div style="display: flex; gap: 8px; align-items: center;">
                                <button class="white-button btn" onclick="selectAddress('4')">선택</button>
                            </div>
                        </div>
                        <div class="address-detail">(03256) 제주특별자치도 서귀포시 안덕면 신화역사로304번길 38 메리어트관 8210호</div>
                        <div class="address-detail" style="color: #666;">010-1234-5667 | 02-124-4455</div>
                    </article>
                </div>
            </div>
            <div class="modal-footer">
                <button class="btn dark-button" style="width: 100%;" onclick="openAddressModal('add')">+ 배송지 추가</button>
            </div>
        </div>
    </div>

    <div class="modal-overlay full-modal" id="address-modal-overlay">
        <div class="modal-content" id="address-modal">
            <div class="modal-header">
                <h2 class="modal-title" id="address-modal-title">배송지 추가</h2>
                <button class="btn-modal-close" onclick="closeModal('address-modal-overlay')">
                    <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24">
                        <path d="M18 6l-12 12" />
                        <path d="M6 6l12 12" />
                    </svg>
                </button>
            </div>
            <div class="modal-body">
                <form id="address-form">
                    <div class="form-group">
                        <label for="addr-name">배송지명 (선택)</label>
                        <div class="input">
                            <input type="text" id="addr-name" placeholder="배송지명을 입력해주세요">
                        </div>
                    </div>
                    <div class="form-group">
                        <label for="addr-receiver">이름 (상호명)</label>
                        <div class="input">
                            <input type="text" id="addr-receiver" placeholder="받으실 분의 성함을 입력해주세요">
                        </div>
                    </div>
                    <div class="form-group">
                        <label for="addr-phone">휴대폰 번호</label>
                        <div class="input">
                            <input type="tel" id="addr-phone" placeholder="'-'없이 숫자만 입력해주세요">
                        </div>
                    </div>
                    <div class="form-group">
                        <label for="addr-tel">연락처 (선택)</label>
                        <div class="input">
                            <input type="tel" id="addr-tel" placeholder="'-'없이 숫자만 입력해주세요">
                        </div>
                    </div>
                    <div class="form-group">
                        <label>주소</label>
                        <div class="input-group">
                            <div class="input readonly">
                                <input type="text" id="addr-zipcode" placeholder="우편번호" readonly>
                            </div>
                            <button type="button" class="white-button" onclick="alert('우편번호 검색')">우편번호 검색</button>
                        </div>
                        <div class="input readonly" style="margin-top: 8px;">
                            <input type="text" id="addr-main" placeholder="주소" readonly>
                        </div>
                        <div class="input" style="margin-top: 8px;">
                            <input type="text" id="addr-detail" placeholder="상세 주소를 입력해주세요">
                        </div>
                    </div>
                    <div class="form-group" style="margin-bottom: 0;">
                        <div class="checkbox-text" onclick="toggleCheckboxText(this)">
                            <div class="checkbox" data-checked="false" id="addr-default-check">
                                <div class="checkbox-off"></div>
                            </div>
                            <span>기본 배송지로 설정하기</span>
                        </div>
                    </div>
                </form>
            </div>
            <div class="modal-footer">
                <button class="btn dark-button" style="width: 100%;" id="address-modal-submit-btn"
                    onclick="alert('저장')">추가하기</button>
            </div>
        </div>
    </div>

    <div class="modal-overlay full-modal" id="delivery-area-modal-overlay">
        <div class="modal-content" id="delivery-area-modal">
            <div class="modal-header">
                <h2 class="modal-title">낮·밤배송 가능 지역</h2>
                <button class="btn-modal-close" onclick="closeModal('delivery-area-modal-overlay')">
                    <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24">
                        <path d="M18 6l-12 12" />
                        <path d="M6 6l12 12" />
                    </svg>
                </button>
            </div>
            <div class="modal-body">
                <nav class="modal-tab-nav" id="delivery-area-tabs">
                    <div class="single-chip single-chip-off" data-tab="day"
                        onclick="switchDeliveryAreaTab(this, 'day')">낮배송</div>
                    <div class="single-chip single-chip-on" data-tab="night"
                        onclick="switchDeliveryAreaTab(this, 'night')">밤배송</div>
                </nav>

                <div class="delivery-area-content" data-tab-content="day" style="display: none;">
                    <p class="region-summary"><strong>배송지역:</strong> 서울 일부 지역</p>
                    <table class="area-table">
                        <thead>
                            <tr>
                                <th>배정 차량</th>
                                <th>지역</th>
                            </tr>
                        </thead>
                        <tbody>
                            <tr>
                                <td>1호차</td>
                                <td>인현동, 필동, 충무로, 초동, 주교동, 저동, 을지로3가, 을지로4가, 오장동, 예장동, 묵정동</td>
                            </tr>
                        </tbody>
                    </table>
                </div>

                <div class="delivery-area-content" data-tab-content="night" style="display: block;">
                    <p class="region-summary"><strong>배송지역:</strong> 서울 전지역 및 인천시·경기도 일부지역 배송</p>
                    <table class="area-table">
                        <thead>
                            <tr>
                                <th>배정 차량</th>
                                <th>지역</th>
                            </tr>
                        </thead>
                        <tbody>
                            <tr>
                                <td>1호차</td>
                                <td>인현동, 필동, 충무로, 초동, 주교동, 저동, 을지로3가, 을지로4가, 오장동, 예장동, 묵정동</td>
                            </tr>
                            <tr>
                                <td>2호차</td>
                                <td>금천구, 동작구, 영등포구, 구로구, 관악구</td>
                            </tr>
                            <tr>
                                <td>3호차</td>
                                <td>인천시, 김포시</td>
                            </tr>
                            <tr>
                                <td>4호차</td>
                                <td>부천시</td>
                            </tr>
                            <tr>
                                <td>5호차</td>
                                <td>마포구, 고양시, 은평구, 서대문구</td>
                            </tr>
                            <tr>
                                <td>6호차</td>
                                <td>성남시</td>
                            </tr>
                            <tr>
                                <td>7호차</td>
                                <td>수원시, 용인시</td>
                            </tr>
                            <tr>
                                <td>8호차</td>
                                <td>군포시, 안양시, 과천시, 강서구, 양천구</td>
                            </tr>
                            <tr>
                                <td>9호차</td>
                                <td>구리시, 의정부시, 강북구, 광진구, 노원구, 도봉구, 동대문구, 종로구, 중구, 중랑구, 성북구</td>
                            </tr>
                            <tr>
                                <td>10호차</td>
                                <td>성동구, 송파구, 강동구, 하남시</td>
                            </tr>
                            <tr>
                                <td>11호차</td>
                                <td>강남구, 서초구, 용산구</td>
                            </tr>
                        </tbody>
                    </table>
                </div>
            </div>
        </div>
    </div>

    <script>
        // --- [NEW] v12 Modal (from qna_write.html) ---
        function openModal(overlayId) {
            const overlay = document.getElementById(overlayId);
            if (overlay) {
                overlay.classList.add('active');
                // 모달이 여러 개 뜰 수 있으므로, body 스크롤은 최상위 모달에서만 제어
                document.body.style.overflow = 'hidden';
            }
        }

        // [MODIFIED] Added full-modal animation support
        function closeModal(overlayId) {
            const overlay = document.getElementById(overlayId);
            if (!overlay) return;

            const modalContent = overlay.querySelector('.modal-content');

            // Check if it's a full-modal
            if (overlay.classList.contains('full-modal') && modalContent) {
                modalContent.classList.add('closing');

                // Wait for animation to finish before hiding overlay
                setTimeout(() => {
                    overlay.classList.remove('active');
                    modalContent.classList.remove('closing'); // Reset for next open

                    const anyModalActive = document.querySelector('.modal-overlay.active');
                    if (!anyModalActive) {
                        document.body.style.overflow = '';
                    }
                }, 300); // Duration should match animation (0.3s)
            } else {
                // Original behavior for non-full-modals
                overlay.classList.remove('active');
                const anyModalActive = document.querySelector('.modal-overlay.active');
                if (!anyModalActive) {
                    document.body.style.overflow = '';
                }
            }
        }

        // --- [NEW] v12 Search (from tax_request_write.html) ---
        function handleSearchInput(input) {
            const searchBox = input.closest('.search');
            searchBox.classList.toggle('has-text', input.value.trim() !== '');
        }
        function clearSearch(btn, searchId) {
            const searchBox = btn.closest('.search');
            const input = searchBox.querySelector('input');
            input.value = '';
            searchBox.classList.remove('has-text');
            input.focus();
            if (searchId === 'modal-address-search') {
                filterAddressList();
            }
        }
        function handleSearch(btn, searchId) {
            console.log('Search submitted:', btn.closest('.search').querySelector('input').value);
            if (searchId === 'modal-address-search') {
                filterAddressList();
            }
        }

        // --- [NEW] Address Modal Logic (from delivery_list.html) ---
        const addressModalTitle = document.getElementById('address-modal-title');
        const addressModalSubmitBtn = document.getElementById('address-modal-submit-btn');
        const addressForm = document.getElementById('address-form');
        const addrName = document.getElementById('addr-name');
        const addrReceiver = document.getElementById('addr-receiver');
        const addrPhone = document.getElementById('addr-phone');
        const addrTel = document.getElementById('addr-tel');
        const addrZipcode = document.getElementById('addr-zipcode');
        const addrMain = document.getElementById('addr-main');
        const addrDetail = document.getElementById('addr-detail');
        const addrDefaultCheck = document.getElementById('addr-default-check');

        // 예시 데이터
        const addressData = {
            "1": { name: "[우리집] 김혜진", receiver: "김혜진", phone: "01012345667", tel: "021244455", zipcode: "03256", main: "서울 마포구 상암동 1605 누리꿈스퀘어", detail: "101동 1001호", isDefault: true },
            "2": { name: "[회사] 박광진", receiver: "박광진", phone: "01012345667", tel: "021244455", zipcode: "03256", main: "경기도 성남시 분당구 판교역로 235 H스퀘어 N동 7층 (삼평동)", detail: "", isDefault: false },
            "3": { name: "[제주도 거래처] 김영희", receiver: "김영희", phone: "01012345667", tel: "021244455", zipcode: "03256", main: "제주특별자치도 서귀포시 안덕면 신화역사로304번길 38 메리어트관 8210호", detail: "", isDefault: false },
            "4": { name: "이진희", receiver: "이진희", phone: "01012345667", tel: "021244455", zipcode: "03256", main: "제주특별자치도 서귀포시 안덕면 신화역사로304번길 38 메리어트관 8210호", detail: "", isDefault: false }
        };

        // 배송지 추가/수정 모달 열기
        function openAddressModal(mode, cardElement = null) {
            addressForm.reset(); // 폼 초기화
            addrDefaultCheck.dataset.checked = 'false';
            addrDefaultCheck.innerHTML = '<div class="checkbox-off"></div>';

            if (mode === 'add') {
                addressModalTitle.textContent = '배송지 추가';
                addressModalSubmitBtn.textContent = '추가하기';
            } else if (mode === 'edit' && cardElement) {
                // (delivery_list.html의 수정 로직)
                addressModalTitle.textContent = '배송지 수정';
                addressModalSubmitBtn.textContent = '수정하기';
                const dataId = cardElement.dataset.id;
                const data = addressData[dataId];
                if (data) {
                    addrName.value = data.name.replace(/\[.*?\]\s*/, ''); // 배송지명만
                    addrReceiver.value = data.receiver;
                    addrPhone.value = data.phone;
                    addrTel.value = data.tel;
                    addrZipcode.value = data.zipcode;
                    addrMain.value = data.main;
                    addrDetail.value = data.detail;
                    if (data.isDefault) {
                        addrDefaultCheck.dataset.checked = 'true';
                        addrDefaultCheck.innerHTML = `<div class="checkbox-on"><img src="assets/images/checked.svg" alt="체크"></div>`;
                    }
                }
            }
            // '배송지 목록' 모달 위에 띄움 (목록 모달은 닫지 않음)
            openModal('address-modal-overlay');
        }

        // 배송지 목록 모달 열기
        function showAddressListModal() {
            openModal('address-list-modal-overlay');
        }

        // [MODIFIED] 1. 배송지 목록에서 '선택'
        function selectAddress(addressId) {
            const data = addressData[addressId];
            if (data) {
                // 1. [MODIFIED] '배송지 목록' 탭의 폼에 데이터 채우기
                document.getElementById('list-receiver').value = data.receiver;
                document.getElementById('list-phone').value = data.phone;
                document.getElementById('list-tel').value = data.tel;
                document.getElementById('list-zipcode').value = data.zipcode;
                document.getElementById('list-addr-main').value = data.main;
                document.getElementById('list-addr-detail').value = data.detail;

                // 2. [MODIFIED] '배송지 목록' 탭으로 전환
                const listAddrTab = document.querySelector('#address-tabs [data-tab="address-list"]');
                switchAddressTab(listAddrTab, 'address-list');

                // 3. 모달 닫기
                closeModal('address-list-modal-overlay');

                // 4. 유효성 검사 실행
                checkAddressValidity(addressId, 'list'); // [MODIFIED] 'list' prefix
            }
        }

        // 배송지 목록 모달 내 필터링
        function filterAddressList() {
            const searchTerm = document.querySelector('#modal-address-search input').value.toLowerCase();
            const listContainer = document.getElementById('modal-address-list');
            if (!listContainer) return;

            const items = listContainer.querySelectorAll('.address-item');
            let visibleCount = 0;

            items.forEach(item => {
                const itemName = item.querySelector('.address-name').textContent.toLowerCase();
                const itemAddress = item.querySelector('.address-detail').textContent.toLowerCase();

                const searchMatch = (itemName.includes(searchTerm) || itemAddress.includes(searchTerm));

                if (searchMatch) {
                    item.style.display = '';
                    visibleCount++;
                } else {
                    item.style.display = 'none';
                }
            });

            const countEl = document.getElementById('modal-address-count');
            if (countEl) countEl.textContent = visibleCount;
        }

        // --- [MODIFIED] Tab Logic (from tax_request_write.html) ---
        function switchAddressTab(tabEl, tabName) {
            const tabNav = tabEl.closest('.modal-tab-nav');
            tabNav.querySelectorAll('.single-chip').forEach(c => c.classList.replace('single-chip-on', 'single-chip-off'));
            tabEl.classList.replace('single-chip-off', 'single-chip-on');

            const formContentWrapper = document.getElementById(`address-tab-content`);
            formContentWrapper.querySelectorAll('.form-fields-wrapper').forEach(wrapper => {
                wrapper.style.display = 'none';
            });
            formContentWrapper.querySelector(`.form-fields-wrapper[data-tab-content="${tabName}"]`).style.display = 'block';
        }

        // --- [NEW] Checkbox Logic (from v12 guide) ---
        function toggleCheckbox(checkbox) {
            const isChecked = checkbox.dataset.checked === 'true';
            if (isChecked) {
                checkbox.dataset.checked = 'false';
                checkbox.innerHTML = '<div class="checkbox-off"></div>';
            } else {
                checkbox.dataset.checked = 'true';
                checkbox.innerHTML = `<div class="checkbox-on"><img src="assets/images/checked.svg" alt="체크"></div>`;
            }
        }
        function toggleCheckboxText(wrapper) {
            const checkbox = wrapper.querySelector('.checkbox');
            toggleCheckbox(checkbox);
        }

        // --- [MODIFIED] Single Chip Logic (v12 guide demo) ---
        // [MODIFIED] 폼 ID prefix를 인자로 받도록 수정
        function selectSingleChip(chip, groupId) {
            const group = document.getElementById(groupId);
            if (!group) return;
            group.querySelectorAll('.single-chip').forEach(c => c.classList.replace('single-chip-on', 'single-chip-off'));
            chip.classList.replace('single-chip-off', 'single-chip-on');

            const prefix = groupId.startsWith('list-') ? 'list-' : 'form-';

            // [NEW] 5. 보관장소 '직접 입력' 처리
            if (groupId === 'form-storage-type-chips' || groupId === 'list-storage-type-chips') {
                const directInputGroup = document.getElementById(`${prefix}storage-direct-input-group`);
                const directInput = document.getElementById(`${prefix}storage-direct-input`);
                if (chip.textContent.trim() === '직접 입력') {
                    directInputGroup.style.display = 'block';
                } else {
                    directInputGroup.style.display = 'none';
                    directInput.value = ''; // 다른 칩 선택 시 입력값 초기화
                }
            }

            // [NEW] 3. 신청유형 변경 시 유효성 검사
            if (groupId === 'delivery-type-chips') {
                // 현재 활성화된 탭의 prefix 확인
                const activeTab = document.querySelector('#address-tabs .single-chip-on').dataset.tab;
                let activePrefix = 'form-';
                let addressId = null;

                if (activeTab === 'address-list') {
                    activePrefix = 'list-';
                    // '배송지 목록'에서 선택된 주소의 ID를 찾아야 함 (예시를 위해 하드코딩)
                    const currentReceiver = document.getElementById('list-receiver').value;
                    if (currentReceiver === '이진희') addressId = '4';
                } else if (activeTab === 'direct-input') {
                    activePrefix = 'form-';
                    const currentReceiver = document.getElementById('form-receiver').value;
                    // '직접 입력' 폼이 '이진희' 정보와 일치하는지 (예시)
                    if (currentReceiver === '이진희') addressId = '4';
                } else {
                    activePrefix = 'default-'; // 기본 배송지 (검사 로직 필요)
                }

                checkAddressValidity(addressId, activePrefix);
            }
        }

        // --- [NEW] Photo Upload Logic (from review_after.html) ---
        function handlePhotoUpload(event, previewListId) {
            const previewList = document.getElementById(previewListId);
            const files = event.target.files;

            for (let i = 0; i < files.length; i++) {
                const file = files[i];
                if (!file.type.startsWith('image/')) { continue; }

                const reader = new FileReader();
                reader.onload = function (e) {
                    const previewItem = createPreviewItem(e.target.result);
                    previewList.appendChild(previewItem);
                }
                reader.readAsDataURL(file);
            }
            event.target.value = null; // 입력 필드 초기화
        }

        function createPreviewItem(src) {
            const previewItem = document.createElement('div');
            previewItem.className = 'photo-preview-item';

            const img = document.createElement('img');
            img.src = src;
            img.alt = '미리보기';

            const removeBtn = document.createElement('button');
            removeBtn.className = 'photo-remove-btn';
            removeBtn.innerHTML = `<svg xmlns="http://www.w3.org/2000/svg" width="14" height="14" viewBox="0 0 24 24"><path d="M18 6l-12 12" /><path d="M6 6l12 12" /></svg>`;
            removeBtn.onclick = function () { removePhoto(this); };

            previewItem.appendChild(img);
            previewItem.appendChild(removeBtn);
            return previewItem;
        }

        function removePhoto(button) {
            button.parentElement.remove();
        }

        // --- [MODIFIED] 3. 주소 유효성 검사 (prefix 추가) ---
        function checkAddressValidity(addressId, prefix = 'form-') {
            const warningMsg = document.getElementById(`${prefix}address-warning-message`);
            const warningType = document.getElementById(`${prefix}warning-delivery-type`);

            // 'default-' prefix는 폼이 없으므로 검사 중지
            if (prefix === 'default-') {
                // (기본 배송지 탭에 경고 메시지 영역이 있다면 여기서 처리)
                return;
            }

            const selectedDeliveryTypeChip = document.querySelector('#delivery-type-chips .single-chip-on');
            const deliveryType = selectedDeliveryTypeChip ? selectedDeliveryTypeChip.textContent.trim() : '낮배송'; // '낮배송' or '밤배송'

            if (warningType) warningType.textContent = deliveryType;

            // 예시: '이진희' (ID '4')는 '낮배송'만 안되고 '밤배송'은 가능하다고 가정
            if (addressId === '4' && deliveryType === '낮배송') {
                if (warningMsg) warningMsg.style.display = 'block';
            } else {
                if (warningMsg) warningMsg.style.display = 'none';
            }
        }

        // --- [NEW] 4. 배송 가능 지역 모달 ---
        function showDeliveryAreaModal() {
            // 현재 선택된 배송 유형에 따라 모달 탭을 기본으로 활성화
            const selectedDeliveryTypeChip = document.querySelector('#delivery-type-chips .single-chip-on');
            const deliveryType = selectedDeliveryTypeChip ? selectedDeliveryTypeChip.textContent.trim() : '낮배송';

            if (deliveryType === '낮배송') {
                switchDeliveryAreaTab(document.querySelector('#delivery-area-tabs [data-tab="day"]'), 'day');
            } else {
                switchDeliveryAreaTab(document.querySelector('#delivery-area-tabs [data-tab="night"]'), 'night');
            }

            openModal('delivery-area-modal-overlay');
        }

        function switchDeliveryAreaTab(tabEl, tabName) {
            const tabNav = tabEl.closest('.modal-tab-nav');
            tabNav.querySelectorAll('.single-chip').forEach(c => c.classList.replace('single-chip-on', 'single-chip-off'));
            tabEl.classList.replace('single-chip-off', 'single-chip-on');

            const modalBody = tabEl.closest('.modal-body');
            modalBody.querySelectorAll('.delivery-area-content').forEach(content => {
                content.style.display = 'none';
            });
            modalBody.querySelector(`.delivery-area-content[data-tab-content="${tabName}"]`).style.display = 'block';
        }

        // [MODIFIED] 배송지 목록에서 '선택' 시 로직 변경
        function selectAddress(addressId) {
            const data = addressData[addressId];
            if (data) {
                // 1. 폼 데이터 채우기 (기존 동일)
                document.getElementById('list-receiver').value = data.receiver;
                document.getElementById('list-phone').value = data.phone;
                document.getElementById('list-tel').value = data.tel;
                document.getElementById('list-zipcode').value = data.zipcode;
                document.getElementById('list-addr-main').value = data.main;
                document.getElementById('list-addr-detail').value = data.detail;

                // 2. [NEW] 칩 표시 및 텍스트 설정
                const chip = document.getElementById('chip-address-list');
                const chipText = document.getElementById('chip-address-text');

                chip.style.display = 'inline-flex';
                chipText.textContent = data.name; // 배송지명 표시

                // 3. [NEW] 탭 전환 (칩 활성화)
                switchAddressTab(chip, 'address-list');

                // 4. 모달 닫기
                closeModal('address-list-modal-overlay');

                // 5. 유효성 검사
                checkAddressValidity(addressId, 'list');
            }
        }

        // [NEW] 선택된 배송지 삭제 (칩 닫기)
        function removeSelectedAddress(e) {
            if (e) e.stopPropagation();

            // 1. 칩 숨기기
            const chip = document.getElementById('chip-address-list');
            chip.style.display = 'none';
            chip.classList.replace('single-chip-on', 'single-chip-off');

            // 2. 기본 탭으로 전환 (기본 배송지)
            const defaultTab = document.querySelector('#address-tabs [data-tab="default-addr"]');
            switchAddressTab(defaultTab, 'default-addr');

            // 3. (선택사항) 필드 초기화 로직이 필요하다면 여기에 추가
        }

        // --- Initialize ---
        document.addEventListener('DOMContentLoaded', () => {
            // PDF는 '직접 입력'이 활성화된 상태를 보여주므로, '직접 입력' 탭을 기본으로 활성화합니다.
            switchAddressTab(document.querySelector('#address-tabs [data-tab="direct-input"]'), 'direct-input');

            // 모달 오버레이 클릭 이벤트
            document.querySelectorAll('.modal-overlay').forEach(overlay => {
                overlay.addEventListener('click', (e) => {
                    // 모달 밖을 클릭하면 닫기
                    if (e.target.id === overlay.id) {
                        closeModal(overlay.id);
                    }
                });
            });

            // 유효성 검사 메시지 초기에 숨기기 (페이지 로드 시)
            document.getElementById('form-address-warning-message').style.display = 'none';
            document.getElementById('list-address-warning-message').style.display = 'none';
        });

    </script>


    <div class="disqus-thread-wrap">
        <div id="disqus_thread"></div>
        <script>
            /**
            * RECOMMENDED CONFIGURATION VARIABLES: EDIT AND UNCOMMENT THE SECTION BELOW TO INSERT DYNAMIC VALUES FROM YOUR PLATFORM OR CMS.
            * LEARN WHY DEFINING THESE VARIABLES IS IMPORTANT: https://disqus.com/admin/universalcode/#configuration-variables    */
            /*
            var disqus_config = function () {
            this.page.url = PAGE_URL;  // Replace PAGE_URL with your page's canonical URL variable
            this.page.identifier = PAGE_IDENTIFIER; // Replace PAGE_IDENTIFIER with your page's unique identifier variable
            };
            */
            (function () { // DON'T EDIT BELOW THIS LINE
                var d = document, s = d.createElement('script');
                s.src = 'https://sw-mobile.disqus.com/embed.js';
                s.setAttribute('data-timestamp', +new Date());
                (d.head || d.body).appendChild(s);
            })();
        </script>
        <noscript>Please enable JavaScript to view the <a href="https://disqus.com/?ref_noscript">comments powered by
                Disqus.</a></noscript>
    </div>
    <script id="dsq-count-scr" src="//sw-mobile.disqus.com/count.js" async></script>
</body>

</html>